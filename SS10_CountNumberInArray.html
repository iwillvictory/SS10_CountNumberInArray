<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Count a Number in Array</title>
</head>
<body>
    <script>

        ////////////////Program count a number in array ///////////////////

        let arr=[];
        let number, timesOfNumber;
        initArrOfNumbers(arr);
        sortArrOfNumber(arr);
        number=parseInt(prompt("Enter a value to count: ",""));
        timesOfNumber=count(arr,number);
        displayArr(arr);
        document.write("Found " + timesOfNumber + " occurrences of " + number + ".");



        ///////////////////define Function///////////////////
        function initArrOfNumbers(arr) {
            for(let i=0; i< 100; i++){
                arr[i]=Math.round(Math.random()*100);
            }
        }
        function sortArrOfNumber(arr) {
            arr.sort(function (a,b) {
                return a-b;
            });
        }
        function count(arr,number) {
            let count =0;
            let position=binarySearchNumber(arr,number);
            if(position !=-1){
                count++;
                for(let i=position-1; i > 0; i--){
                    if(number==arr[i]) count++; else break;
                }

                for(let j= position + 1; j < arr.length; j++){
                    if(number==arr[j]) count++; else break;
                }
            }
            return count;
        }

        function binarySearchNumber(arr,number) {
            let left=0, right=arr.length-1;
            let mid;
            while(left<=right){
                mid=Math.floor((left+right)/2);
                if(number==arr[mid]){
                    return mid;
                }else if(number < arr[mid]){
                    right=mid-1;
                }else if(number > arr[mid]){
                    left=mid+1;
                }
            }
            return -1;
        }


        function displayArr(arr) {
            let textArr="";
            let i;
            for (i = 0; i < arr.length; ++i) {
                textArr+=arr[i] + " ";
                if(i%10==9){
                    textArr+="<br/>";
                }
            }

            if(i%10!=0){
                textArr+="<br/>";
            }
            document.write(textArr);
        }

    </script>
</body>
</html>